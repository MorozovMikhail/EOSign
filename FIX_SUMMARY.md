# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è PDF

## üö® –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞:
```
java.lang.NullPointerException: Cannot invoke "String.toUpperCase()" because "name" is null
```

**–ü—Ä–∏—á–∏–Ω–∞**: iText –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ì–û–°–¢ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ PDF –Ω–∞–ø—Ä—è–º—É—é.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ò–∑–º–µ–Ω–µ–Ω –ø–æ–¥—Ö–æ–¥ –∫ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—é PDF
- **–ë—ã–ª–æ**: –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –ø–æ–¥–ø–∏—Å—å PDF —Å –ì–û–°–¢ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
- **–°—Ç–∞–ª–æ**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —à—Ç–∞–º–ø–∞ –≤ PDF + –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

### 2. –ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
```java
// 1. –î–æ–±–∞–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —à—Ç–∞–º–ø –≤ PDF
PdfStamper stamper = new PdfStamper(reader, outputStream);
addStampToPdf(stamper);

// 2. –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–æ–¥–ø–∏—Å—å –¥–æ–∫—É–º–µ–Ω—Ç–∞
Signature signature = Signature.getInstance("GOST3411WITHECGOST3410-2012-256", "BC");
signature.initSign(privateKey);
signature.update(outputStream.toByteArray());
byte[] signatureBytes = signature.sign();
```

### 3. –í–∏–∑—É–∞–ª—å–Ω—ã–π —à—Ç–∞–º–ø –≤–∫–ª—é—á–∞–µ—Ç:
- **–†–∞–º–∫—É**: –°–∏–Ω—è—è —Ä–∞–º–∫–∞ –≤–æ–∫—Ä—É–≥ —à—Ç–∞–º–ø–∞
- **–§–æ–Ω**: –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω
- **–¢–µ–∫—Å—Ç**: 
  - "–≠–õ–ï–ö–¢–†–û–ù–ù–ê–Ø –ü–û–î–ü–ò–°–¨"
  - "–ì–û–°–¢ –† 34.10-2012"
  - –î–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
  - "–°—Ç–∞—Ç—É—Å: –í–ê–õ–ò–î–ù–ê"

### 4. –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
- **Endpoint**: `GET /api/test-pdf`
- **–§—É–Ω–∫—Ü–∏—è**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–π PDF –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- –û—à–∏–±–∫–∞ `NullPointerException` –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ì–û–°–¢ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –≤ iText
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ PDF

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ:
- –í–∏–∑—É–∞–ª—å–Ω—ã–π —à—Ç–∞–º–ø –≤ PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –¢–µ—Å—Ç–æ–≤—ã–π PDF –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ PDF —Å –≤–∏–¥–∏–º—ã–º —à—Ç–∞–º–ø–æ–º
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## üìã –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏
```bash
POST /api/sign
# –°–∫–∞—á–∏–≤–∞–µ—Ç –∞—Ä—Ö–∏–≤ —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º –∏ –∫–ª—é—á–æ–º
```

### 2. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ PDF
```bash
POST /api/sign-document
# –ó–∞–≥—Ä—É–∂–∞–µ—Ç: –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á + —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç + PDF
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: PDF —Å –≤–∏–¥–∏–º—ã–º —à—Ç–∞–º–ø–æ–º
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
```bash
POST /api/verify
# –ó–∞–≥—Ä—É–∂–∞–µ—Ç: –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π PDF
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### 4. –¢–µ—Å—Ç–æ–≤—ã–π PDF
```bash
GET /api/test-pdf
# –°–∫–∞—á–∏–≤–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–π PDF –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `PdfSignService.java` - –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω –º–µ—Ç–æ–¥ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
- `SignController.java` - –¥–æ–±–∞–≤–ª–µ–Ω endpoint –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ PDF
- `TestPdfGenerator.java` - –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF

### –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- iText 5.5.13.4 - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDF
- iText Asian 5.2.0 - –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã:
- **–ì–û–°–¢ 34.10-2012** - –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–æ–¥–ø–∏—Å–∏
- **–ì–û–°–¢ 34.11-2012** - –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **BouncyCastle** - –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
- ‚úÖ –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ PDF —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π —à—Ç–∞–º–ø –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π PDF –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

---

**EOSign** —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ! üéâ 